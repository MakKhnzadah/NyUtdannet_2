@page
@model nyUtdannet2.Areas.Identity.Pages.Account.RegisterModel
@{
    ViewData["Title"] = "Registrer";
    Layout = "_Layout";
}

<style>
    body {
        background: linear-gradient(to right, #fddde6, #cbe9f8);
    }
</style>

<div class="d-flex justify-content-center align-items-center" style="min-height: 100vh;">
    <div class="col-md-8">
        <h1 class="text-center mb-4 text-dark">@ViewData["Title"]</h1>

        <form asp-route-returnUrl="@Model.ReturnUrl" method="post" class="card p-4 bg-white shadow rounded">
            @Html.AntiForgeryToken()

            <div class="mb-3">
                <label asp-for="Input.UserType" class="form-label">Brukertype</label>
                <select asp-for="Input.UserType" class="form-select" id="userTypeSelect">
                    <option value="Employee">Ansatt</option>
                    <option value="Employer">Arbeidsgiver</option>
                </select>
                <span asp-validation-for="Input.UserType" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Input.Email" class="form-label">E-post</label>
                <input asp-for="Input.Email" class="form-control" placeholder="Skriv din e-postadresse" />
                <span asp-validation-for="Input.Email" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Input.Password" class="form-label">Passord</label>
                <input asp-for="Input.Password" class="form-control" placeholder="Minst 6 tegn" />
                <span asp-validation-for="Input.Password" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Input.ConfirmPassword" class="form-label">Bekreft passord</label>
                <input asp-for="Input.ConfirmPassword" class="form-control" placeholder="Gjenta passordet" />
                <span asp-validation-for="Input.ConfirmPassword" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Input.FirstName" class="form-label">Fornavn</label>
                <input asp-for="Input.FirstName" class="form-control" placeholder="Ditt fornavn" />
                <span asp-validation-for="Input.FirstName" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Input.LastName" class="form-label">Etternavn</label>
                <input asp-for="Input.LastName" class="form-control" placeholder="Ditt etternavn" />
                <span asp-validation-for="Input.LastName" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Input.DateOfBirth" class="form-label">FÃ¸dselsdato</label>
                <input asp-for="Input.DateOfBirth" type="date" class="form-control" />
                <span asp-validation-for="Input.DateOfBirth" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Input.StreetName" class="form-label">Gateadresse</label>
                <input asp-for="Input.StreetName" class="form-control" placeholder="Din gateadresse" />
                <span asp-validation-for="Input.StreetName" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Input.StreetNumber" class="form-label">Husnummer</label>
                <input asp-for="Input.StreetNumber" class="form-control" placeholder="Ditt husnummer" />
                <span asp-validation-for="Input.StreetNumber" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Input.PostalCode" class="form-label">Postnummer</label>
                <input asp-for="Input.PostalCode" class="form-control" placeholder="Ditt postnummer" />
                <span asp-validation-for="Input.PostalCode" class="text-danger"></span>
            </div>

            <div class="mb-3">
                <label asp-for="Input.City" class="form-label">Poststed</label>
                <input asp-for="Input.City" class="form-control" placeholder="Ditt poststed" />
                <span asp-validation-for="Input.City" class="text-danger"></span>
            </div>

            <div id="employerFields" style="display:none;">
                <div class="mb-3">
                    <label asp-for="Input.CompanyName" class="form-label">Firmanavn</label>
                    <input asp-for="Input.CompanyName" class="form-control" placeholder="Firmanavn" />
                    <span asp-validation-for="Input.CompanyName" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label asp-for="Input.CompanyDescription" class="form-label">Beskrivelse av firma</label>
                    <textarea asp-for="Input.CompanyDescription" class="form-control" rows="3"></textarea>
                    <span asp-validation-for="Input.CompanyDescription" class="text-danger"></span>
                </div>

                <div class="mb-3">
                    <label asp-for="Input.CompanyWebsite" class="form-label">Nettside</label>
                    <input asp-for="Input.CompanyWebsite" class="form-control" placeholder="https://firma.no" />
                    <span asp-validation-for="Input.CompanyWebsite" class="text-danger"></span>
                </div>
            </div>

            <button type="submit" class="btn btn-primary w-100 mt-3" style="background-color: #007c8c; border: none; border-radius: 20px;">Registrer</button>
        </form>
    </div>
</div>

@section Scripts 
{
    <partial name="_ValidationScriptsPartial" />
    <script>
        function toggleEmployerFields() 
        {
            const userType = document.getElementById("userTypeSelect").value;
            const employerFields = document.getElementById("employerFields");
            employerFields.style.display = (userType === "Employer") ? "block" : "none";
        }

        document.addEventListener('DOMContentLoaded', function () 
        {
            toggleEmployerFields();
            document.getElementById("userTypeSelect").addEventListener("change", toggleEmployerFields);
        });
    </script>
}
